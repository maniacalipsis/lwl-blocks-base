{"version":3,"file":"button/index.js","mappings":"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","sources":["webpack://@maniacalipsis/lwl-blocks-base/./src/button/edit.js","webpack://@maniacalipsis/lwl-blocks-base/./src/button/editor.scss?6614","webpack://@maniacalipsis/lwl-blocks-base/external window [\"wp\",\"blockEditor\"]","webpack://@maniacalipsis/lwl-blocks-base/external window [\"wp\",\"blocks\"]","webpack://@maniacalipsis/lwl-blocks-base/external window [\"wp\",\"components\"]","webpack://@maniacalipsis/lwl-blocks-base/external window [\"wp\",\"i18n\"]","webpack://@maniacalipsis/lwl-blocks-base/external window \"React\"","webpack://@maniacalipsis/lwl-blocks-base/external window \"ReactJSXRuntime\"","webpack://@maniacalipsis/lwl-blocks-base/webpack/bootstrap","webpack://@maniacalipsis/lwl-blocks-base/webpack/runtime/compat get default export","webpack://@maniacalipsis/lwl-blocks-base/webpack/runtime/define property getters","webpack://@maniacalipsis/lwl-blocks-base/webpack/runtime/hasOwnProperty shorthand","webpack://@maniacalipsis/lwl-blocks-base/webpack/runtime/make namespace object","webpack://@maniacalipsis/lwl-blocks-base/./src/button/index.js"],"sourcesContent":["import {\n          useState,\n       } from 'react';\nimport {__} from '@wordpress/i18n';   //Translations module.\nimport {\n          useBlockProps,\n          InspectorControls,\n          MediaUploadCheck,\n          MediaUpload,\n       } from '@wordpress/block-editor';\nimport {\n          getBlockType,\n       } from '@wordpress/blocks';\nimport {\n          Panel,\n          PanelBody,\n          Popover,\n          Flex,\n          TextControl,\n          SelectControl,\n          CheckboxControl,\n          Button,\n          BaseControl,\n       } from '@wordpress/components';\n\nimport metadata from './block.json';\nimport './editor.scss';\n\n\nexport function edit(props_)\n{\n   const txtD=metadata.textdomain; //Shorthand for translation text-domain.\n   const panelsClassName=props_.name.replace('/','-');\n\n   const tagOptions=metadata.attributes.tag.enum.map(tagName_=>({value:tagName_,label:__(tagName_,txtD)}));\n\n   //States:\n   const [linkText,setLinkText]=useState(props_.attributes.text);                                     //Reflects link text changes in the attrs_toggle button.\n   const linkTextOnChange=(newVal_)=>{props_.setAttributes({text:newVal_}); setLinkText(newVal_);}    // Shorthand for save link text and reflect it on the button.\n   const [linkURL,setLinkURL]=useState(props_.attributes.url);                                        //Reflects link URL changes in the attrs_toggle button.\n   const linkURLOnChange=(newVal_)=>{props_.setAttributes({url:newVal_}); setLinkURL(newVal_);}       // Shorthand for save link URL and reflect it on the button.\n   const [linkAttrsBoxVisible,setLinkAttrsBoxVisible]=useState(false);                                //Toggles attributes popover.\n   const submitByEnter=(e_)=>{if (e_.key=='Enter') setLinkAttrsBoxVisible(false);};                   //Closes popover by pressing Enter inside text inputs. As all changes are applied immediately, no other actions are needed.\n\n   return (\n      <>\n         <InspectorControls>\n            <Panel className={panelsClassName}>\n               <PanelBody title={__(metadata.title+' layout',txtD)}>\n                  <SelectControl label={__('HTML tag',txtD)} className=\"tag\" value={props_.attributes.tag} options={tagOptions} onChange={(newVal_)=>props_.setAttributes({tag:newVal_})}/>\n               </PanelBody>\n            </Panel>\n         </InspectorControls>\n         <Flex {...useBlockProps()} direction=\"row\" align=\"center\">\n            <MediaUploadCheck>\n               <MediaUpload\n                  allowedTypes={['image']}\n                  render={({open})=>(\n                                       <BaseControl className=\"image\">\n                                          <Button className=\"set_image\" onClick={open}>{props_.attributes.image ? <img src={props_.attributes.image.url}/> : __('Glyph', txtD)}</Button>\n                                          {props_.attributes.image&&<Button className=\"unset_image\" onClick={(e_)=>{props_.setAttributes({image:null});}}>☒</Button>}\n                                       </BaseControl>\n                                    )}\n                  onSelect={(media_)=>{props_.setAttributes({image:{id:media_.id,url:media_.url,alt:media_.alt,filename:media_.filename}})}}\n               />\n            </MediaUploadCheck>\n            <Button className=\"attrs_toggle\" title={linkURL} onClick={()=>{setLinkAttrsBoxVisible((isVisible_)=>!isVisible_)}}>{linkText}</Button>\n            {\n               linkAttrsBoxVisible &&\n               <Popover className={panelsClassName}>\n                  <TextControl label={__('Text',txtD)} className=\"text\" value={props_.attributes.text} onChange={linkTextOnChange} onKeyDown={submitByEnter}/>\n                  <TextControl label={__('URL',txtD)} className=\"url\" title={__('URL',txtD)} value={props_.attributes.url} onChange={linkURLOnChange} onKeyDown={submitByEnter}/>\n                  <CheckboxControl label={__('Open in new tab',txtD)} className=\"target\" checked={props_.attributes.target=='_blank'} onChange={(checked_)=>props_.setAttributes({target:(checked_ ? '_blank' : '')})}/>\n                  <Flex align=\"flex-end\">\n                     <TextControl label={__('rel',txtD)} className=\"rel\" title={__('Rel',txtD)} list=\"link_rels\" value={props_.attributes.rel} onChange={(newVal_)=>props_.setAttributes({rel:newVal_})} onKeyDown={submitByEnter}/>\n                     <a href=\"https://www.w3schools.com/TAGS/att_a_rel.asp\" target=\"_blank\" class=\"help\">?</a>\n                     <datalist id=\"link_rels\">\n                        <option value=\"alternate\"></option>\n                        <option value=\"author\"></option>\n                        <option value=\"bookmark\"></option>\n                        <option value=\"external\"></option>\n                        <option value=\"help\"></option>\n                        <option value=\"license\"></option>\n                        <option value=\"next\"></option>\n                        <option value=\"nofollow\"></option>\n                        <option value=\"noopener\"></option>\n                        <option value=\"noreferrer\"></option>\n                        <option value=\"prev\"></option>\n                        <option value=\"search\"></option>\n                        <option value=\"tag\"></option>\n                     </datalist>\n                  </Flex>\n                  <TextControl label={__('onclick',txtD)} className=\"onclick\" title={__('onclick',txtD)} value={props_.attributes.onclick} onChange={(newVal_)=>props_.setAttributes({onclick:newVal_})} onKeyDown={submitByEnter}/>\n                  <Button onClick={()=>{setLinkAttrsBoxVisible(false)}} isDefault>{__('Apply ⏎',txtD)}</Button>\n               </Popover>\n            }\n         </Flex>\n      </>\n   );\n}\n\nexport function save()\n{\n   return (\n      <div {...useBlockProps.save()}></div>\n   );\n}\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"React\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\n\n//Internal dependencies:\nimport {edit,save} from './edit';\nimport metadata from './block.json';\n\nregisterBlockType(metadata.name,\n                  {\n                     edit:edit,\n                     save:save,\n                  });\n"],"names":["useState","__","useBlockProps","InspectorControls","MediaUploadCheck","MediaUpload","getBlockType","Panel","PanelBody","Popover","Flex","TextControl","SelectControl","CheckboxControl","Button","BaseControl","metadata","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","edit","props_","txtD","textdomain","panelsClassName","name","replace","tagOptions","attributes","tag","enum","map","tagName_","value","label","linkText","setLinkText","text","linkTextOnChange","newVal_","setAttributes","linkURL","setLinkURL","url","linkURLOnChange","linkAttrsBoxVisible","setLinkAttrsBoxVisible","submitByEnter","e_","key","children","className","title","options","onChange","direction","align","allowedTypes","render","open","onClick","image","src","onSelect","media_","id","alt","filename","isVisible_","onKeyDown","checked","target","checked_","list","rel","href","class","onclick","isDefault","save","registerBlockType"],"sourceRoot":""}